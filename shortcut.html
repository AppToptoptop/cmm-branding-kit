<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Call Me Maybe â€” iPhone Shortcut Setup</title>
<link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800;900&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#0c0d10;--card:#131620;--border:#1e2235;--text:#eceae7;--dim:#8b8fa0;--muted:#555a6e;--gold:#D4A853;--orange:#F47D31;--green:#4ade80;--teal:#00d4aa;--red:#ff4d6a;--pink:#ff6b9d;--purple:#b388ff;}
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);line-height:1.7;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;background:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");pointer-events:none;z-index:0;}
.w{max-width:700px;margin:0 auto;padding:0 1.5rem;position:relative;z-index:1;}

.topbar{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(12,13,16,0.88);backdrop-filter:blur(14px);border-bottom:1px solid var(--border);padding:0.6rem 1.5rem;display:flex;align-items:center;justify-content:space-between;}
.topbar a{color:var(--dim);text-decoration:none;font-size:0.8rem;font-weight:500;transition:color 0.2s;}
.topbar a:hover{color:var(--text);}
.topbar .logo{font-family:'Sora',sans-serif;font-weight:700;font-size:0.9rem;color:var(--text);letter-spacing:-0.5px;}
.topbar .logo em{font-style:normal;color:var(--gold);}

.hero{text-align:center;padding:5.5rem 0 1.5rem;}
.hero-pill{display:inline-flex;align-items:center;gap:0.5rem;font-family:'Sora',sans-serif;font-size:0.65rem;color:var(--teal);border:1px solid rgba(0,212,170,0.25);padding:0.35rem 1rem;border-radius:100px;letter-spacing:2px;text-transform:uppercase;background:rgba(0,212,170,0.06);margin-bottom:1.2rem;}
.hero h1{font-family:'Sora',sans-serif;font-size:clamp(1.6rem,4vw,2.2rem);font-weight:800;letter-spacing:-1.5px;line-height:1.2;margin-bottom:0.6rem;}
.hero h1 em{font-style:normal;color:var(--gold);}
.hero .sub{color:var(--dim);font-size:0.88rem;max-width:520px;margin:0 auto;}

/* CONFIG */
.config{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:1.5rem;margin:1.5rem 0;}
.config-label{font-family:'Sora',sans-serif;font-size:0.6rem;font-weight:700;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-bottom:0.8rem;}
.config-row{display:flex;gap:0.8rem;margin-bottom:1rem;flex-wrap:wrap;}
.config-row:last-child{margin-bottom:0;}
.config-field{flex:1;min-width:200px;}
.config-field label{display:block;font-family:'Sora',sans-serif;font-size:0.72rem;font-weight:600;color:var(--dim);margin-bottom:0.4rem;}
.config-field select,
.config-field input{width:100%;font-family:'Sora',sans-serif;font-size:0.8rem;font-weight:500;color:var(--text);background:var(--bg);border:1px solid var(--border);border-radius:10px;padding:0.65rem 1rem;appearance:none;-webkit-appearance:none;outline:none;transition:border-color 0.2s;}
.config-field select{background-image:url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%228%22 viewBox=%220 0 12 8%22%3E%3Cpath fill=%22%238b8fa0%22 d=%22M6 8L0 0h12z%22/%3E%3C/svg%3E');background-repeat:no-repeat;background-position:right 1rem center;padding-right:2.5rem;cursor:pointer;}
.config-field select option{background:var(--card);color:var(--text);}
.config-field select:focus,
.config-field input:focus{border-color:var(--gold);}
.config-field input[type="date"]::-webkit-calendar-picker-indicator{filter:invert(0.6);cursor:pointer;}

/* URL */
.url-box{background:var(--bg);border:1px solid var(--border);border-radius:10px;padding:0.8rem 1rem;display:flex;align-items:center;gap:0.6rem;margin-top:1rem;}
.url-box code{flex:1;font-size:0.68rem;color:var(--teal);word-break:break-all;font-family:'Sora',monospace;line-height:1.4;}
.url-box .copy-btn{font-family:'Sora',sans-serif;font-size:0.65rem;font-weight:700;color:var(--bg);background:var(--gold);border:none;border-radius:8px;padding:0.45rem 0.9rem;cursor:pointer;white-space:nowrap;transition:all 0.2s;}
.url-box .copy-btn:hover{background:#e6bd6a;}
.url-box .copy-btn.copied{background:var(--green);color:#000;}

/* STEPS */
.steps{padding:1.5rem 0;}
.steps-title{font-family:'Sora',sans-serif;font-size:0.6rem;font-weight:700;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-bottom:1.2rem;}
.steps-list{counter-reset:step;}
.step{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:1.2rem 1.2rem 1.2rem 3.5rem;margin-bottom:0.8rem;position:relative;counter-increment:step;}
.step::before{content:counter(step);position:absolute;left:1.2rem;top:1.2rem;font-family:'Sora',sans-serif;font-size:0.85rem;font-weight:800;color:var(--gold);}
.step-title{font-family:'Sora',sans-serif;font-size:0.88rem;font-weight:700;margin-bottom:0.3rem;}
.step-desc{font-size:0.8rem;color:var(--dim);line-height:1.6;}
.step-desc strong{color:var(--text);font-weight:600;}
.step-desc code{font-size:0.72rem;background:rgba(255,255,255,0.05);padding:0.15rem 0.5rem;border-radius:4px;color:var(--teal);font-family:'Sora',monospace;}

.imp{background:rgba(244,125,49,0.04);border:1px solid rgba(244,125,49,0.2);border-radius:10px;padding:0.8rem 1rem;margin-top:0.8rem;}
.imp .imp-label{font-family:'Sora',sans-serif;font-size:0.6rem;font-weight:700;color:var(--orange);letter-spacing:1.5px;text-transform:uppercase;margin-bottom:0.2rem;}
.imp .imp-text{font-size:0.78rem;color:var(--dim);line-height:1.5;}
.imp .imp-text strong{color:var(--orange);}

/* PREVIEW */
.preview{text-align:center;padding:2rem 0;border-top:1px solid var(--border);margin-top:1rem;}
.preview-label{font-family:'Sora',sans-serif;font-size:0.6rem;font-weight:700;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-bottom:0.8rem;}
.preview h2{font-family:'Sora',sans-serif;font-size:1.1rem;font-weight:700;letter-spacing:-0.5px;margin-bottom:1rem;}
.preview-frame{display:inline-block;width:200px;border-radius:24px;overflow:hidden;border:3px solid var(--border);background:#000;position:relative;box-shadow:0 20px 60px rgba(0,0,0,0.4);}
.preview-frame img{width:100%;height:auto;display:block;transition:opacity 0.3s;}
.preview-frame .notch{position:absolute;top:0;left:50%;transform:translateX(-50%);width:110px;height:26px;background:#000;border-radius:0 0 16px 16px;z-index:2;}
.preview-status{font-size:0.75rem;color:var(--dim);margin-top:0.8rem;}

.also{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:1.2rem;margin:1.5rem 0;text-align:center;}
.also p{font-size:0.82rem;color:var(--dim);margin-bottom:0.6rem;}
.also a{display:inline-block;font-family:'Sora',sans-serif;font-size:0.72rem;font-weight:700;color:var(--gold);text-decoration:none;border:1px solid var(--gold);border-radius:100px;padding:0.45rem 1.2rem;transition:all 0.2s;}
.also a:hover{background:var(--gold);color:var(--bg);}

.footer{text-align:center;padding:2rem 0;border-top:1px solid var(--border);margin-top:1rem;color:var(--muted);font-size:0.78rem;}
.footer a{color:var(--dim);text-decoration:none;}
.footer a:hover{color:var(--text);}

@media(max-width:600px){
.hero{padding:5rem 0 1rem;}
.config-row{flex-direction:column;gap:0.6rem;}
.config-field{min-width:auto;}
.step{padding-left:3rem;}
.preview-frame{width:170px;}
}
</style>
</head>
<body>

<div class="topbar">
  <a href="index.html" class="logo">Call Me <em>Maybe</em></a>
  <a href="wallpapers.html">&#127912; All Wallpapers</a>
</div>

<div class="w">

<div class="hero">
  <div class="hero-pill">&#9881; iPhone Shortcut</div>
  <h1>Daily Wallpaper <em>Automation</em></h1>
  <p class="sub">Set it up once. Every morning at 6 AM, your iPhone lockscreen automatically updates to the next day of your 21-day streak. Zero effort after setup.</p>
</div>

<!-- CONFIG -->
<div class="config">
  <div class="config-label">1 &mdash; Choose Your iPhone</div>
  <div class="config-row">
    <div class="config-field">
      <label>iPhone Model</label>
      <select id="deviceSelect" onchange="updateUrl()">
        <option value="750x1334">iPhone SE (2nd / 3rd gen)</option>
        <option value="1080x2340">iPhone 13 mini</option>
        <option value="1170x2532">iPhone 13 / 13 Pro / 14 / 14 Pro</option>
        <option value="1284x2778">iPhone 13 Pro Max / 14 Plus / 14 Pro Max</option>
        <option value="1179x2556">iPhone 15 / 15 Pro / 16</option>
        <option value="1290x2796">iPhone 15 Plus / 15 Pro Max / 16 Plus</option>
        <option value="1206x2622">iPhone 16 Pro / 17 / 17 Pro</option>
        <option value="1320x2868" selected>iPhone 16 Pro Max / 17 Pro Max</option>
      </select>
    </div>
    <div class="config-field">
      <label>Start Date (Day 1 of your challenge)</label>
      <input type="date" id="startDate" onchange="updateUrl()">
    </div>
  </div>

  <div class="config-label" style="margin-top:1.2rem;">Your Personal URL</div>
  <div class="url-box">
    <code id="generatedUrl">...</code>
    <button class="copy-btn" id="copyBtn" onclick="copyUrl()">Copy</button>
  </div>
</div>

<!-- STEPS -->
<div class="steps">
  <div class="steps-title">2 &mdash; Installation Steps</div>
  <div class="steps-list">

    <div class="step">
      <div class="step-title">Create Automation</div>
      <div class="step-desc">
        Open <strong>Shortcuts</strong> app &rarr; Go to <strong>Automation</strong> tab &rarr; <strong>New Automation</strong> &rarr; <strong>Time of Day</strong> &rarr; <code>6:00 AM</code> &rarr; Repeat <strong>"Daily"</strong> &rarr; Select <strong>"Run Immediately"</strong> &rarr; <strong>"Create New Shortcut"</strong>
      </div>
    </div>

    <div class="step">
      <div class="step-title">Create Shortcut</div>
      <div class="step-desc">
        Add these actions:<br><br>

        <strong>2.1</strong> &ensp; <code>Get Contents of URL</code> &rarr; paste the following URL there:<br>
        <span style="display:block;margin:0.4rem 0;padding:0.4rem 0.6rem;background:rgba(0,212,170,0.06);border:1px solid rgba(0,212,170,0.15);border-radius:6px;font-size:0.68rem;color:var(--teal);word-break:break-all;font-family:'Sora',monospace;" id="inlineUrl">...</span>

        <strong>2.2</strong> &ensp; <code>Set Wallpaper Photo</code> &rarr; choose <strong>"Lock Screen"</strong>

        <div class="imp">
          <div class="imp-label">Important</div>
          <div class="imp-text">
            In <strong>"Set Wallpaper Photo"</strong>, tap the arrow (&rarr;) to show options &rarr; disable both <strong>"Crop to Subject"</strong> and <strong>"Show Preview"</strong>.<br><br>
            This prevents iOS from cropping and asking for confirmation each time.
          </div>
        </div>
      </div>
    </div>

    <div class="step">
      <div class="step-title">Test It</div>
      <div class="step-desc">
        Tap <strong>Run</strong> to test. Your lockscreen should change immediately to today&rsquo;s wallpaper. If iOS asks for wallpaper permission, <strong>allow it</strong>. Done! &#127881;
      </div>
    </div>

  </div>
</div>

<!-- PREVIEW -->
<div class="preview">
  <div class="preview-label">Live Preview</div>
  <h2>Today's Wallpaper</h2>
  <div class="preview-frame">
    <div class="notch"></div>
    <img id="previewImg" alt="Wallpaper preview" src="">
  </div>
  <div class="preview-status" id="previewStatus">Loading preview...</div>
</div>

<!-- ALSO -->
<div class="also">
  <p>Want to download all 21 wallpapers manually instead?</p>
  <a href="wallpapers.html">Download All Wallpapers &rarr;</a>
</div>

</div>

<div class="footer">
  <p>Call Me Maybe &copy; 2026 &mdash; <a href="index.html">War Room</a></p>
</div>

<script>
const today = new Date();
const yyyy = today.getFullYear();
const mm = String(today.getMonth() + 1).padStart(2, '0');
const dd = String(today.getDate()).padStart(2, '0');
document.getElementById('startDate').value = `${yyyy}-${mm}-${dd}`;

function getUrl() {
  const device = document.getElementById('deviceSelect').value;
  const start = document.getElementById('startDate').value;
  return `https://cmm-branding-kit.vercel.app/api/wallpaper?start=${start}&device=${device}`;
}

function updateUrl() {
  const url = getUrl();
  document.getElementById('generatedUrl').textContent = url;
  document.getElementById('inlineUrl').textContent = url;

  const img = document.getElementById('previewImg');
  const status = document.getElementById('previewStatus');
  status.style.display = 'block';
  status.textContent = 'Loading preview...';
  img.style.opacity = '0.3';

  img.onload = () => {
    img.style.opacity = '1';
    status.style.display = 'none';
  };
  img.onerror = () => {
    status.textContent = 'Preview will appear once API is deployed.';
    img.style.opacity = '0';
  };
  img.src = url;
}

function copyUrl() {
  const url = getUrl();
  navigator.clipboard.writeText(url).then(() => {
    const btn = document.getElementById('copyBtn');
    btn.textContent = 'Copied!';
    btn.classList.add('copied');
    setTimeout(() => {
      btn.textContent = 'Copy';
      btn.classList.remove('copied');
    }, 2000);
  });
}

updateUrl();
</script>
</body>
</html>
